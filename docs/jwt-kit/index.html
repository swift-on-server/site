<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="canonical" href="https://swiftonserver.com/jwt-kit/">
    <link rel="prev" href="https://swiftonserver.com/getting-started-with-mongokitten/">
    <link rel="next" href="https://swiftonserver.com/hummingbird-and-cors/">

    <title>Introduction to JWTs in Swift - Swift on server</title>
    <meta name="description" content="Learn how to use JWTs in Swift to secure your API">

    <meta property="og:url" content="https://swiftonserver.com/jwt-kit/">
    <meta property="og:title" content="Introduction to JWTs in Swift - Swift on server">
    <meta property="og:description" content="Learn how to use JWTs in Swift to secure your API">
    <meta property="og:image" content="https://swiftonserver.com/assets/jwt-kit/cover.jpg" />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Introduction to JWTs in Swift - Swift on server">
    <meta name="twitter:description" content="Learn how to use JWTs in Swift to secure your API">
    <meta name="twitter:image" content="https://swiftonserver.com/assets/jwt-kit/cover.jpg">

    <link rel="stylesheet" href="https://swiftonserver.com/css/modern-normalize.css">
    <link rel="stylesheet" href="https://swiftonserver.com/css/modern-base.css">
    <link rel="stylesheet" href="https://swiftonserver.com/css/variables.css">
    <link rel="stylesheet" href="https://swiftonserver.com/css/base.css">
    <link rel="stylesheet" href="https://swiftonserver.com/css/grid.css">
    <link rel="stylesheet" href="https://swiftonserver.com/css/navigation.css">
    <link rel="stylesheet" href="https://swiftonserver.com/css/footer.css">
    <link rel="stylesheet" href="https://swiftonserver.com/css/syntax.css">
    <link rel="stylesheet" href="https://swiftonserver.com/css/style.css">

    

    <link rel="shortcut icon" href="https://swiftonserver.com/images/icons/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://swiftonserver.com/images/icons/icon-320.png" type="image/png">
    
    <link rel="apple-touch-icon" href="https://swiftonserver.com/images/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="https://swiftonserver.com/images/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://swiftonserver.com/images/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://swiftonserver.com/images/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://swiftonserver.com/images/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://swiftonserver.com/images/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://swiftonserver.com/images/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://swiftonserver.com/images/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://swiftonserver.com/images/icons/apple-touch-icon-180x180.png">

    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
        media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"
        media="(prefers-color-scheme: dark)"
    >

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
          const container = document.querySelector("div#swiftinit-tooltips");
          if (container !== null) {
              container.querySelectorAll('pre code').forEach((el) => {
                  el.classList.add('nohighlight');
              });
          }
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
          document.querySelectorAll('section pre code:not(.language-swift').forEach((el) => {
              hljs.highlightElement(el);
          });
        });
    </script>

    <script defer data-domain="swiftonserver.com" src="https://plausible.io/js/script.js"></script>

</head>

<body>
    <div id="site-container">

    <header id="navigation">
        <a href="/">
            <figure>
                <picture>
                    <source
                        srcset="https://swiftonserver.com/images/logos/logo~dark.png"
                        media="(prefers-color-scheme: dark)"
                    >
                    <img
                        src="https://swiftonserver.com/images/logos/logo.png"
                        alt="Logo of Swift on server"
                        title="Swift on server"
                    >
                </picture>
            </figure>
        </a>
        <nav>
            <input type="checkbox" id="primary-menu-button" name="menu-button" class="menu-button">
            <label for="primary-menu-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </label>
            <div class="menu-items">
                <a href="/posts/page/1/">Posts</a>
            <a href="/tags/">Tags</a>
            <a href="/authors/">Authors</a>
            <a href="/newsletter/">Newsletter</a>
            </div>
        </nav>
    </header>

    <main id="page-container">
    
    <div class="article-with-toc">
        <div>
            <article class="post">
                <div class="meta">
                    <time datetime="2025-01-09">2025-01-09</time>
                     &middot; <span class="reading-time">13 min read</span>
                    
                </div>
                <section>
                
                <section class='introduction'><h1>Introduction to JWTs in Swift</h1></section><section class='details literature'><p>JWTKit is a library for working with JSON Web Tokens (JWT) in Swift. It provides a simple and easy-to-use API for creating, parsing, and validating JWTs. JWTs are a popular way to authenticate information (claims) between parties. JWTKit makes it easy to work with them in your Swift projects.</p><p>In this tutorial, you’ll learn how to use JWTKit to create and validate JWTs in Swift. You’ll start by installing JWTKit using Swift Package Manager, then you’ll learn how to create a JWT and validate it using JWTKit’s API. At the end of this tutorial, you’ll be able to implement an authentication and authorisation flow in your Swift projects using JWTs.</p><h2 id='What%20is%20a%20JSON%20Web%20Token%20(JWT)?'><a href='#What%20is%20a%20JSON%20Web%20Token%20(JWT)?'>What is a JSON Web Token (JWT)?</a></h2><p>A JWT is a compact, URL-safe way to represent claims between two parties. The token is digitally signed, which makes it secure and trustworthy. JWTs are commonly used for authentication and authorisation in (web) applications, APIs, and microservices.</p><p>A JWT consists of three parts:</p><ol><li><p>A header, containing metadata about the token, such as the type of token and the algorithm used to sign it.</p></li><li><p>The payload, which contains the claims, which are statements about an entity (typically the user) and additional data.</p></li><li><p>And a signature. The signature is used to verify that the token is valid and has not been tampered with.</p></li></ol><p>It usually looks like this:</p><pre class='snippet'><code><span class='newline'></span>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</code></pre><p>If you inspect the token on <a href='https://jwt.io' target='_blank' rel='external nofollow noopener ugc'>jwt.io</a>, you’ll see that it consists of three parts separated by dots: the header, the payload, and the signature.</p><aside class='note'><h3>Note</h3><p>Don’t paste production tokens into jwt.io or any other online tool, as they could be intercepted and misused.</p></aside><h2 id='Installing%20JWTKit'><a href='#Installing%20JWTKit'>Installing JWTKit</a></h2><p>JWTKit is available as a Swift package, which makes it easy to install and use in your projects. To install it, add it as a dependency in your <code>Package.swift</code> file:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xv'>dependencies</span>: [<span class='newline'>
</span>    .<span class='xv'>package</span>(<span class='xv'>url</span>: <span class='xs'>"https://github.com/vapor/jwt-kit.git"</span>, <span class='xv'>from</span>: <span class='xs'>"5.0.0"</span>)<span class='newline'>
</span>]</code></pre><p>Then, add JWTKit as a dependency to your target:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xv'>targets</span>: [<span class='newline'>
</span>    .<span class='xv'>target</span>(<span class='xv'>name</span>: <span class='xs'>"YourTarget"</span>, <span class='xv'>dependencies</span>: [<span class='newline'>
</span>        .<span class='xv'>product</span>(<span class='xv'>name</span>: <span class='xs'>"JWTKit"</span>, <span class='xv'>package</span>: <span class='xs'>"jwt-kit"</span>)<span class='newline'>
</span>    ])<span class='newline'>
</span>]</code></pre><h2 id='Configuration'><a href='#Configuration'>Configuration</a></h2><p>In JWTKit everything revolves around the <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection' target='_blank' rel='external'>JWTKeyCollection</a></code> object: a collection of keys that can be used to sign and verify JWTs. The declaration is simple, you can add this in your app’s configuration code:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xk'>let</span> <span class='xv'>keyCollection</span> = <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection' target='_blank' rel='external'>JWTKeyCollection</a>()</code></pre><a rel='ugc' href='https://github.com/swift-on-server/articles/blob/main/Snippets/jwt-kit.swift#L4' target='_blank' class='source github'><span class='file'>jwt-kit.swift</span>:<span class='line'>4</span></a><p>Adding keys to the collection is also straightforward:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xk'>await</span> <span class='xv'>keyCollection</span>.<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection.add(hmac:digestalgorithm:kid:parser:serializer:)' target='_blank' rel='external'>add</a>(<span class='xv'>hmac</span>: <a class='xs' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/hmackey.init(stringliteral:)' target='_blank' rel='external'>"secret"</a>, <span class='xv'>digestAlgorithm</span>: .<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/digestalgorithm.sha256' target='_blank' rel='external'>sha256</a>)</code></pre><a rel='ugc' href='https://github.com/swift-on-server/articles/blob/main/Snippets/jwt-kit.swift#L8' target='_blank' class='source github'><span class='file'>jwt-kit.swift</span>:<span class='line'>8</span></a><p>This snippet adds an HMAC (Hash-based Message Authentication Code) key to the collection. HMAC is one of the most common algorithms used to sign JWTs. You can read about it <a href='https://blog.boot.dev/cryptography/hmac-and-macs-in-jwts/' target='_blank' rel='external nofollow noopener ugc'>here</a>, but in short, it works like this:</p><ol><li><p>First, the JWT’s content (header and payload) is hashed using SHA-256</p></li><li><p>Then, this hash is combined with our secret key to create a unique signature</p></li><li><p>The same secret key must be used for both signing and verification (that’s what makes it “symmetric”)</p></li></ol><aside class='important'><h3>Important</h3><p>Since HMAC uses the same key for signing and verification, you must keep this secret key secure and never expose it in client-side code or public repositories. Use environment variables or a secure secrets manager to store it.</p></aside><blockquote><p>You might be wondering why the <code>add</code> method is marked with <code>await</code>. This is because the method is asynchronous due to <code>JWTKeyCollection</code> being an actor. You can read more about actors in <a href='../structured-concurrency-and-shared-state-in-swift'>Sendable and Shared Mutable State</a>.</p></blockquote><p>Other than HMAC, JWTKit also supports <strong>ECDSA</strong>, <strong>EdDSA</strong> and <strong>RSA</strong> keys. These are asymmetric signing algorithms, which means the key used to sign the JWT is different from the key used to verify it. This article won’t go into which algorithm is best as each one has its own use case, however it’s important to note that RSA is the least recommended of the listed ones due to different reasons. That’s why JWTKit hides RSA keys behind an <code>Insecure</code> namespace.</p><h2 id='Creating%20a%20JWT'><a href='#Creating%20a%20JWT'>Creating a JWT</a></h2><p>Once you have a <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection' target='_blank' rel='external'>JWTKeyCollection</a></code> object, you can use it to “create” a JWT. Creating a JWT means signing the payload with a key, in this case one from the collection. The payload is the data we want to transmit securely:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xk'>struct</span> <span class='xt'>TestPayload</span>: <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtpayload' target='_blank' rel='external'>JWTPayload</a> {<span class='newline'>
</span>    <span class='xk'>var</span> <span class='xv'>expiration</span>: <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim' target='_blank' rel='external'>ExpirationClaim</a><span class='newline'>
</span>    <span class='xk'>var</span> <span class='xv'>issuer</span>: <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/issuerclaim' target='_blank' rel='external'>IssuerClaim</a><span class='newline'>

</span>    <span class='xk'>enum</span> <span class='xt'>CodingKeys</span>: <a class='xt' href='https://swiftinit.org/docs/swift/swift/string' target='_blank' rel='external'>String</a>, <a class='xt' href='https://swiftinit.org/docs/swift/swift/codingkey' target='_blank' rel='external'>CodingKey</a> {<span class='newline'>
</span>        <span class='xk'>case</span> <span class='xv'>expiration</span> = <span class='xs'>"exp"</span><span class='newline'>
</span>        <span class='xk'>case</span> <span class='xv'>issuer</span> = <span class='xs'>"iss"</span><span class='newline'>
</span>    }<span class='newline'>

</span>    <span class='xk'>func</span> <span class='xv'>verify</span>(<span class='xv'>using</span> <span class='xv'>key</span>: <span class='xk'>some</span> <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtalgorithm' target='_blank' rel='external'>JWTAlgorithm</a>) <span class='xk'>throws</span> {<span class='newline'>
</span>        <span class='xk'>try</span> <span class='xk'>self</span>.<span class='xv'>expiration</span>.<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim.verifynotexpired(currentdate:)' target='_blank' rel='external'>verifyNotExpired</a>()<span class='newline'>
</span>    }<span class='newline'>
</span>}</code></pre><a rel='ugc' href='https://github.com/swift-on-server/articles/blob/main/Snippets/jwt-kit.swift#L12' target='_blank' class='source github'><span class='file'>jwt-kit.swift</span>:<span class='line'>12</span></a><p>In this example, we define a <code>TestPayload</code> struct that conforms to the <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtpayload' target='_blank' rel='external'>JWTPayload</a></code> protocol. This protocol requires us to implement the <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtpayload.verify(using:)' target='_blank' rel='external'>verify(using:)</a></code> method, which includes optional additional validation logic that can be performed when creating the JWT. In this case, we’re verifying that the token has not expired. The properties of the struct are the claims we want to include in the JWT. JWTKit provides a number of built-in claims, such as <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim' target='_blank' rel='external'>ExpirationClaim</a></code> and <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/issuerclaim' target='_blank' rel='external'>IssuerClaim</a></code>, which are commonly used in JWTs. JWTKit supports the <a href='https://datatracker.ietf.org/doc/html/rfc7519#section-4.1' target='_blank' rel='external'>seven registered claims</a> defined in the JWT specification, but you can also define custom claims if needed.</p><aside class='note'><h3>Note</h3><p>In the example, <code>CodingKeys</code> are defined to map Swift property names to the JSON keys used in the JWT. This means that in the JWT the expiration claim will be named <code>exp</code> and the issuer claim will be named <code>iss</code>, as per the JWT specification.</p></aside><p>To create a JWT with this payload, you can create a new instance of the payload and use the key collection to sign it:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xk'>let</span> <span class='xv'>payload</span> = <span class='xt'>TestPayload</span>(<span class='newline'>
</span>    <span class='xv'>expiration</span>: .<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim.init(value:)' target='_blank' rel='external'>init</a>(<span class='xv'>value</span>: .<a class='xv' href='https://swiftinit.org/docs/swift/foundationessentials/date.distantfuture' target='_blank' rel='external'>distantFuture</a>),<span class='newline'>
</span>    <span class='xv'>issuer</span>: <a class='xs' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtclaim.init(stringliteral:)' target='_blank' rel='external'>"myapp.com"</a><span class='newline'>
</span>)<span class='newline'>

</span><span class='xk'>let</span> <span class='xv'>token</span> = <span class='xk'>try</span> <span class='xk'>await</span> <span class='xv'>keyCollection</span>.<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection.sign(_:kid:header:)' target='_blank' rel='external'>sign</a>(<span class='xv'>payload</span>)</code></pre><a rel='ugc' href='https://github.com/swift-on-server/articles/blob/main/Snippets/jwt-kit.swift#L28' target='_blank' class='source github'><span class='file'>jwt-kit.swift</span>:<span class='line'>28</span></a><p>This will create a token that looks like the one we showed earlier. The token is now ready to be transmitted to the other party.</p><h2 id='Verifying%20a%20JWT'><a href='#Verifying%20a%20JWT'>Verifying a JWT</a></h2><p>Once you receive a JWT, you can use the key collection to verify it. Verification involves verifying the signature of the token and then checking the claims in the payload:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xk'>let</span> <span class='xv'>verifiedPayload</span> = <span class='xk'>try</span> <span class='xk'>await</span> <span class='xv'>keyCollection</span>.<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection.verify(_:as:iteratingkeys:)?hash=49QJ1' target='_blank' rel='external'>verify</a>(<span class='newline'>
</span>    <span class='xv'>token</span>,<span class='newline'>
</span>    <span class='xv'>as</span>: <span class='xt'>TestPayload</span>.<span class='xk'>self</span><span class='newline'>
</span>)</code></pre><a rel='ugc' href='https://github.com/swift-on-server/articles/blob/main/Snippets/jwt-kit.swift#L37' target='_blank' class='source github'><span class='file'>jwt-kit.swift</span>:<span class='line'>37</span></a><p>If the token is invalid, an error will be thrown. Otherwise, the payload will be returned and should look like the original payload you signed.</p><h2 id='Authentication%20and%20Authorisation%20Flow'><a href='#Authentication%20and%20Authorisation%20Flow'>Authentication and Authorisation Flow</a></h2><p>JWTs are commonly used in authentication and authorisation flows in web applications. Here’s a simple example of how you might use JWTKit to implement an authentication and authorisation flow in a Swift project:</p><ol><li><p>When a user logs in, for example by providing their username and password, you create a JWT with the user’s information and sign it with a key.</p></li><li><p>You send the JWT to the client, which stores it in a secure location, such as the keychain.</p></li><li><p>When the client makes a request to the server, it includes the JWT in the request headers.</p></li><li><p>The server validates the JWT using the key collection and optionally checks the claims in the payload.</p></li><li><p>If the JWT is valid, the server responds to the request with the requested data.</p></li></ol><p>This flow allows you to securely transmit information between the client and server without the need for the client to store sensitive information, such as passwords, locally.</p><p>Let’s put this into practice with a simple example. The following snippets use Swift pseudo-code to demonstrate the flow, without using a specific web framework. You can adapt this code to work with your preferred web framework. First, we’ll create a payload struct that contains the user’s information:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xk'>struct</span> <span class='xt'>UserPayload</span>: <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtpayload' target='_blank' rel='external'>JWTPayload</a> {<span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>userID</span>: <a class='xt' href='https://swiftinit.org/docs/swift/swift/int' target='_blank' rel='external'>Int</a><span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>expiration</span>: <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim' target='_blank' rel='external'>ExpirationClaim</a><span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>roles</span>: <span class='xt'>RoleClaim</span><span class='newline'>

</span>    <span class='xk'>enum</span> <span class='xt'>CodingKeys</span>: <a class='xt' href='https://swiftinit.org/docs/swift/swift/string' target='_blank' rel='external'>String</a>, <a class='xt' href='https://swiftinit.org/docs/swift/swift/codingkey' target='_blank' rel='external'>CodingKey</a> {<span class='newline'>
</span>        <span class='xk'>case</span> <span class='xv'>userID</span> = <span class='xs'>"user_id"</span><span class='newline'>
</span>        <span class='xk'>case</span> <span class='xv'>expiration</span> = <span class='xs'>"exp"</span><span class='newline'>
</span>        <span class='xk'>case</span> <span class='xv'>roles</span><span class='newline'>
</span>    }<span class='newline'>

</span>    <span class='xk'>func</span> <span class='xv'>verify</span>(<span class='xv'>using</span> <span class='xv'>key</span>: <span class='xk'>some</span> <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtalgorithm' target='_blank' rel='external'>JWTAlgorithm</a>) <span class='xk'>throws</span> {<span class='newline'>
</span>        <span class='xk'>try</span> <span class='xv'>expiration</span>.<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim.verifynotexpired(currentdate:)' target='_blank' rel='external'>verifyNotExpired</a>()<span class='newline'>
</span>        <span class='xk'>try</span> <span class='xv'>roles</span>.<span class='xv'>verifyAdmin</span>()<span class='newline'>
</span>    }<span class='newline'>

</span>    <span class='xk'>init</span>(<span class='xv'>from</span> <span class='xv'>user</span>: <span class='xt'>User</span>) {<span class='newline'>
</span>        <span class='xk'>self</span>.<span class='xv'>userID</span> = <span class='xv'>user</span>.<span class='xv'>id</span><span class='newline'>
</span>        <span class='xk'>self</span>.<span class='xv'>expiration</span> = .<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim.init(value:)' target='_blank' rel='external'>init</a>(<span class='xv'>value</span>: .<a class='xv' href='https://swiftinit.org/docs/swift/foundationessentials/date.init(timeintervalsincenow:)' target='_blank' rel='external'>init</a>(<span class='xv'>timeIntervalSinceNow</span>: <span class='xn'>3600</span>))  <span class='xc'>// Token expires in 1 hour</span><span class='newline'>
</span>        <span class='xk'>self</span>.<span class='xv'>roles</span> = <span class='xv'>user</span>.<span class='xv'>roles</span><span class='newline'>
</span>    }<span class='newline'>
</span>}</code></pre><a rel='ugc' href='https://github.com/swift-on-server/articles/blob/main/Snippets/jwt-kit.swift#L64' target='_blank' class='source github'><span class='file'>jwt-kit.swift</span>:<span class='line'>64</span></a><p>The <code>UserPayload</code> struct represents the claims we want to include in the JWT. In this snippet, we include the user’s ID, an expiration claim, and a list of roles. The <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtpayload.verify(using:)' target='_blank' rel='external'>verify(using:)</a></code> method checks that the token has not expired and that the user is an admin. The <code>init</code> method creates a new payload from a <code>User</code> object, which could be retrieved from a database, for example. The roles claim is a custom claim:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xk'>struct</span> <span class='xt'>RoleClaim</span>: <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtclaim' target='_blank' rel='external'>JWTClaim</a> {<span class='newline'>
</span>    <span class='xk'>var</span> <span class='xv'>value</span>: [<a class='xt' href='https://swiftinit.org/docs/swift/swift/string' target='_blank' rel='external'>String</a>]<span class='newline'>

</span>    <span class='xk'>func</span> <span class='xv'>verifyAdmin</span>() <span class='xk'>throws</span> {<span class='newline'>
</span>        <span class='xk'>guard</span> <span class='xv'>value</span>.<a class='xv' href='https://swiftinit.org/docs/swift/swift/sequence.contains(_:)' target='_blank' rel='external'>contains</a>(<span class='xs'>"admin"</span>) <span class='xk'>else</span> {<span class='newline'>
</span>            <span class='xk'>throw</span> <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwterror' target='_blank' rel='external'>JWTError</a>.<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwterror.claimverificationfailure(failedclaim:reason:)' target='_blank' rel='external'>claimVerificationFailure</a>(<span class='newline'>
</span>                <span class='xv'>failedClaim</span>: <span class='xk'>self</span>,<span class='newline'>
</span>                <span class='xv'>reason</span>: <span class='xs'>"User is not an admin"</span><span class='newline'>
</span>            )<span class='newline'>
</span>        }<span class='newline'>
</span>    }<span class='newline'>
</span>}</code></pre><a rel='ugc' href='https://github.com/swift-on-server/articles/blob/main/Snippets/jwt-kit.swift#L44' target='_blank' class='source github'><span class='file'>jwt-kit.swift</span>:<span class='line'>44</span></a><p>This is a simple struct that conforms to the <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtclaim' target='_blank' rel='external'>JWTClaim</a></code> protocol. The <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtclaim.value' target='_blank' rel='external'>value</a></code> property is the value of the claim, which in this case is a list of roles. Next, we’ll create a route that handles user logins and returns a JWT:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xk'>struct</span> <span class='xt'>UserPayload</span>: <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtpayload' target='_blank' rel='external'>JWTPayload</a> {<span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>userID</span>: <a class='xt' href='https://swiftinit.org/docs/swift/swift/int' target='_blank' rel='external'>Int</a><span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>expiration</span>: <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim' target='_blank' rel='external'>ExpirationClaim</a><span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>roles</span>: <span class='xt'>RoleClaim</span><span class='newline'>

</span>    <span class='xk'>enum</span> <span class='xt'>CodingKeys</span>: <a class='xt' href='https://swiftinit.org/docs/swift/swift/string' target='_blank' rel='external'>String</a>, <a class='xt' href='https://swiftinit.org/docs/swift/swift/codingkey' target='_blank' rel='external'>CodingKey</a> {<span class='newline'>
</span>        <span class='xk'>case</span> <span class='xv'>userID</span> = <span class='xs'>"user_id"</span><span class='newline'>
</span>        <span class='xk'>case</span> <span class='xv'>expiration</span> = <span class='xs'>"exp"</span><span class='newline'>
</span>        <span class='xk'>case</span> <span class='xv'>roles</span><span class='newline'>
</span>    }<span class='newline'>

</span>    <span class='xk'>func</span> <span class='xv'>verify</span>(<span class='xv'>using</span> <span class='xv'>key</span>: <span class='xk'>some</span> <a class='xt' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtalgorithm' target='_blank' rel='external'>JWTAlgorithm</a>) <span class='xk'>throws</span> {<span class='newline'>
</span>        <span class='xk'>try</span> <span class='xv'>expiration</span>.<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim.verifynotexpired(currentdate:)' target='_blank' rel='external'>verifyNotExpired</a>()<span class='newline'>
</span>        <span class='xk'>try</span> <span class='xv'>roles</span>.<span class='xv'>verifyAdmin</span>()<span class='newline'>
</span>    }<span class='newline'>

</span>    <span class='xk'>init</span>(<span class='xv'>from</span> <span class='xv'>user</span>: <span class='xt'>User</span>) {<span class='newline'>
</span>        <span class='xk'>self</span>.<span class='xv'>userID</span> = <span class='xv'>user</span>.<span class='xv'>id</span><span class='newline'>
</span>        <span class='xk'>self</span>.<span class='xv'>expiration</span> = .<a class='xv' href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim.init(value:)' target='_blank' rel='external'>init</a>(<span class='xv'>value</span>: .<a class='xv' href='https://swiftinit.org/docs/swift/foundationessentials/date.init(timeintervalsincenow:)' target='_blank' rel='external'>init</a>(<span class='xv'>timeIntervalSinceNow</span>: <span class='xn'>3600</span>))  <span class='xc'>// Token expires in 1 hour</span><span class='newline'>
</span>        <span class='xk'>self</span>.<span class='xv'>roles</span> = <span class='xv'>user</span>.<span class='xv'>roles</span><span class='newline'>
</span>    }<span class='newline'>
</span>}</code></pre><a rel='ugc' href='https://github.com/swift-on-server/articles/blob/main/Snippets/jwt-kit.swift#L64' target='_blank' class='source github'><span class='file'>jwt-kit.swift</span>:<span class='line'>64</span></a><p>The <code>UserPayload</code> struct represents the claims we want to include in the JWT. In this example, we include the user’s ID, an expiration claim, and a list of roles. The <code><a href='https://swiftinit.org/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtpayload.verify(using:)' target='_blank' rel='external'>verify(using:)</a></code> method checks that the token has not expired and that the user has the “admin” role. The <code>init</code> method creates a new payload from a <code>User</code> object, which could be retrieved from a database, for example.</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xv'>router</span>.<span class='xv'>post</span>(<span class='xs'>"login"</span>) { <span class='xv'>req</span> <span class='xk'>async</span> <span class='xk'>throws</span> -&gt; <span class='xt'>Response</span> <span class='xk'>in</span><span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>user</span> = <span class='xv'>User</span>.<span class='xv'>find</span>(<span class='xv'>username</span>: <span class='xv'>req</span>.<span class='xv'>body</span>.<span class='xv'>username</span>) <span class='xc'>// Find user by username, in a DB for example</span><span class='newline'>
</span>    <span class='xk'>try</span> <span class='xv'>user</span>.<span class='xv'>verifyPassword</span>(<span class='xv'>req</span>.<span class='xv'>body</span>.<span class='xv'>password</span>)<span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>payload</span> = <span class='xv'>UserPayload</span>(<span class='xv'>from</span>: <span class='xv'>user</span>)<span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>token</span> = <span class='xk'>try</span> <span class='xk'>await</span> <span class='xv'>keyCollection</span>.<span class='xv'>sign</span>(<span class='xv'>payload</span>)<span class='newline'>
</span>    <span class='xk'>return</span> <span class='xv'>Response</span>(<span class='xv'>status</span>: .<span class='xv'>ok</span>, <span class='xv'>body</span>: <span class='xv'>token</span>)<span class='newline'>
</span>}</code></pre><p>The <code>login</code> route receives the user’s username and password, finds the user in the database, verifies the password, creates a JWT with the user’s information, and signs it with the key collection. The token is then returned to the client.</p><p>Next, we’ll create a route that handles requests that require authentication. This route will validate the JWT in the request headers and return the requested data if the token is valid:</p><pre class='snippet'><code class='language-swift'><span class='newline'></span><span class='xv'>router</span>.<span class='xv'>get</span>(<span class='xs'>"admin-protected"</span>) { <span class='xv'>req</span> <span class='xk'>async</span> <span class='xk'>throws</span> -&gt; <span class='xt'>Response</span> <span class='xk'>in</span><span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>token</span> = <span class='xv'>req</span>.<span class='xv'>headers</span>[<span class='xs'>"Authorization"</span>]<span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>payload</span> = <span class='xk'>try</span> <span class='xk'>await</span> <span class='xv'>keyCollection</span>.<span class='xv'>verify</span>(<span class='xv'>token</span>, <span class='xv'>as</span>: <span class='xv'>UserPayload</span>.<span class='xk'>self</span>)<span class='newline'>
</span>    <span class='xk'>let</span> <span class='xv'>user</span> = <span class='xv'>User</span>.<span class='xv'>find</span>(<span class='xv'>payload</span>.<span class='xv'>userID</span>)<span class='newline'>
</span>    <span class='xk'>return</span> <span class='xv'>Response</span>(<span class='xv'>status</span>: .<span class='xv'>ok</span>, <span class='xv'>body</span>: <span class='xv'>user</span>)<span class='newline'>
</span>}</code></pre><p>Usually web frameworks such as Vapor and Hummingbird provide middleware to handle authentication and authorisation, so you don’t have to manually validate the JWT in each route. However, this example is framework-agnostic and demonstrates the basic flow of how JWTs can be used to secure your Swift projects.</p><p>This should be enough to understand how JWTKit can be used to implement an authentication and authorisation flow in your Swift projects. You can adapt this example to work with your preferred web framework and add additional features as needed.</p><h2 id='Conclusion'><a href='#Conclusion'>Conclusion</a></h2><p>JWTKit is a powerful library for working with JSON Web Tokens in Swift. It provides a simple and easy-to-use API for creating, parsing, and validating JWTs, making it easy to implement authentication and authorisation flows in your Swift projects. In this tutorial, you learned how to install JWTKit, create and validate JWTs, and implement an authentication and authorisation flow using JWTs. While this tutorial covered the basics of JWTKit, there are many more features and options available in the library. Check out the <a href='https://github.com/vapor/jwt-kit' target='_blank' rel='external'>JWTKit README</a> for more information on how to use JWTKit in your projects.</p><p>But for now, you should be able to start using JWTs in your Swift projects with confidence!</p></section><div style='display: none;' id='swiftinit-tooltips'><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection'><pre><code><span class='xk'>actor</span> <span class='xv'>JWTKeyCollection</span></code></pre><p>A collection of JWT and JWK signers for handling JSON Web Tokens (JWTs).</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection.add(hmac:digestalgorithm:kid:parser:serializer:)'><pre><code><span class='xa'>@discardableResult</span> <span class='xk'>func</span> <span class='xv'>add</span>(<span class='xi'></span><span class='xv'>hmac</span> <span class='xb'>key</span>: <span class='xt'>HMACKey</span>, <span class='xi'></span><span class='xv'>digestAlgorithm</span>: <span class='xt'>DigestAlgorithm</span>, <span class='xi'></span><span class='xv'>kid</span>: <span class='xt'>JWKIdentifier</span>? = <span class='xk'>nil</span>, <span class='xi'></span><span class='xv'>parser</span>: <span class='xk'>some</span> <span class='xt'>JWTParser</span> = <span class='xv'>DefaultJWTParser</span>(), <span class='xi'></span><span class='xv'>serializer</span>: <span class='xk'>some</span> <span class='xt'>JWTSerializer</span> = <span class='xv'>DefaultJWTSerializer</span>()<wbr>) -&gt; <span class='xk'>Self</span></code></pre><p>Adds an HMAC key to the collection.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/hmackey.init(stringliteral:)'><pre><code><span class='xk'>init</span>(<span class='xi'></span><span class='xv'>stringLiteral</span> <span class='xb'>value</span>: <span class='xt'>StringLiteralType</span><wbr>)</code></pre></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/digestalgorithm.sha256'><pre><code><span class='xk'>static</span> <span class='xk'>let</span> <span class='xv'>sha256</span>: <span class='xt'>DigestAlgorithm</span></code></pre></a><a href='/hist/swift-on-server.articles:main/articles/structured-concurrency-and-shared-state-in-swift'><p>When working with concurrent code, you’ll often need to share state between tasks. Using reference types such as a <code>class</code> allows you to share state between different threads and tasks. This can lead to race conditions where two tasks are trying to access the same state at the same time.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtpayload'><pre><code><span class='xk'>protocol</span> <span class='xv'>JWTPayload</span> : <span class='xt'>Decodable</span>, <span class='xt'>Encodable</span>, <span class='xt'>Sendable</span></code></pre><p>A JWT payload is a Publically Readable set of claims. Each variable represents a claim.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim'><pre><code><span class='xk'>struct</span> <span class='xv'>ExpirationClaim</span></code></pre><p>The “exp” (expiration time) claim identifies the expiration time on or after which the JWT MUST NOT be accepted for processing.  The processing of the “exp” claim requires that the current date/time MUST be before the expiration date/time listed in the “exp” claim. Implementers MAY provide for some small leeway, usually no more than a few minutes, to account for clock skew.  Its value MUST be a number containing a NumericDate value.  Use of this claim is OPTIONAL.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/issuerclaim'><pre><code><span class='xk'>struct</span> <span class='xv'>IssuerClaim</span></code></pre><p>The “iss” (issuer) claim identifies the principal that issued the JWT.  The processing of this claim is generally application specific. The “iss” value is a case-sensitive string containing a StringOrURI value.  Use of this claim is OPTIONAL.</p></a><a href='/docs/swift/swift/string'><pre><code><span class='xa'>@frozen</span> <span class='xk'>struct</span> <span class='xv'>String</span></code></pre><p>A Unicode string value that is a collection of characters.</p></a><a href='/docs/swift/swift/codingkey'><pre><code><span class='xk'>protocol</span> <span class='xv'>CodingKey</span> : <span class='xt'>CustomDebugStringConvertible</span>, <span class='xt'>CustomStringConvertible</span>, <span class='xt'>Sendable</span></code></pre><p>A type that can be used as a key for encoding and decoding.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtalgorithm'><pre><code><span class='xk'>protocol</span> <span class='xv'>JWTAlgorithm</span> : <span class='xt'>Sendable</span></code></pre><p>A protocol defining the necessary functionality for a JWT (JSON Web Token) algorithm. All algorithms conform to <code>JWTAlgorithm</code> to provide custom signing and verification logic for JWT tokens.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim.verifynotexpired(currentdate:)'><pre><code><span class='xk'>func</span> <span class='xv'>verifyNotExpired</span>(<span class='xi'></span><span class='xv'>currentDate</span>: <span class='xt'>Date</span> = .<span class='xk'>init</span>()<wbr>) <span class='xk'>throws</span></code></pre><p>Throws an error if the claim’s date is later than current date.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtpayload.verify(using:)'><pre><code><span class='xk'>func</span> <span class='xv'>verify</span>(<span class='xi'></span><span class='xv'>using</span> <span class='xb'>algorithm</span>: <span class='xk'>some</span> <span class='xt'>JWTAlgorithm</span><wbr>) <span class='xk'>async</span> <span class='xk'>throws</span></code></pre><p>Verifies that the payload’s claims are correct or throws an error.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/expirationclaim.init(value:)'><pre><code><span class='xk'>init</span>(<span class='xi'></span><span class='xv'>value</span>: <span class='xt'>Date</span><wbr>)</code></pre><p>See <code>JWTClaim</code>.</p></a><a href='/docs/swift/foundationessentials/date.distantfuture'><pre><code><span class='xk'>static</span> <span class='xk'>let</span> <span class='xv'>distantFuture</span>: <span class='xt'>Date</span></code></pre><p>Creates and returns a Date value representing a date in the distant future.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtclaim.init(stringliteral:)'><pre><code><span class='xk'>init</span>(<span class='xi'></span><span class='xv'>stringLiteral</span> <span class='xb'>string</span>: <span class='xt'>String</span><wbr>)</code></pre><p>See <code>ExpressibleByStringLiteral</code>.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection.sign(_:kid:header:)'><pre><code><span class='xk'>func</span> <span class='xv'>sign</span>(<span class='xi'></span>_ <span class='xb'>payload</span>: <span class='xk'>some</span> <span class='xt'>JWTPayload</span>, <span class='xi'></span><span class='xv'>kid</span>: <span class='xt'>JWKIdentifier</span>? = <span class='xk'>nil</span>, <span class='xi'></span><span class='xv'>header</span>: <span class='xt'>JWTHeader</span> = <span class='xv'>JWTHeader</span>()<wbr>) <span class='xk'>async</span> <span class='xk'>throws</span> -&gt; <span class='xt'>String</span></code></pre><p>Signs a JWT payload and returns the JWT string.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtkeycollection.verify(_:as:iteratingkeys:)?hash=49QJ1'><pre><code><span class='xk'>func</span> <span class='xv'>verify</span>&lt;<span class='xu'>Payload</span>&gt;(<span class='xi'></span>_ <span class='xb'>token</span>: <span class='xt'>String</span>, <span class='xi'></span><span class='xv'>as</span> _: <span class='xt'>Payload</span>.<span class='xk'>Type</span> = <span class='xv'>Payload</span>.<span class='xk'>self</span>, <span class='xi'></span><span class='xv'>iteratingKeys</span>: <span class='xt'>Bool</span> = <span class='xk'>false</span><wbr>) <span class='xk'>async</span> <span class='xk'>throws</span> -&gt; <span class='xt'>Payload</span> <span class='xk'>where</span> <span class='xt'>Payload</span> : <span class='xt'>JWTPayload</span></code></pre><p>Verifies and decodes a JWT token to extract the payload.</p></a><a href='/docs/swift/swift/int'><pre><code><span class='xa'>@frozen</span> <span class='xk'>struct</span> <span class='xv'>Int</span></code></pre><p>A signed integer value type.</p></a><a href='/docs/swift/foundationessentials/date.init(timeintervalsincenow:)'><pre><code><span class='xk'>init</span>(<span class='xi'></span><span class='xv'>timeIntervalSinceNow</span>: <span class='xt'>TimeInterval</span><wbr>)</code></pre><p>Returns a <code>Date</code> initialized relative to the current date and time by a given number of seconds.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtclaim'><pre><code><span class='xk'>protocol</span> <span class='xv'>JWTClaim</span> : <span class='xt'>Decodable</span>, <span class='xt'>Encodable</span>, <span class='xt'>Sendable</span></code></pre><p>A claim is a codable, top-level property of a JWT payload. Multiple claims form a payload. Some claims, such as expiration claims, are inherently verifiable. Each claim able to verify itself provides an appropriate method for doing so, depending on the specific claim.</p></a><a href='/docs/swift/swift/sequence.contains(_:)'><pre><code><span class='xk'>func</span> <span class='xv'>contains</span>(<span class='xi'></span>_ <span class='xb'>element</span>: <span class='xk'>Self</span>.<span class='xt'>Element</span><wbr>) -&gt; <span class='xt'>Bool</span></code></pre><p>Returns a Boolean value indicating whether the sequence contains the given element.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwterror'><pre><code><span class='xk'>struct</span> <span class='xv'>JWTError</span></code></pre><p>JWT error type.</p></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwterror.claimverificationfailure(failedclaim:reason:)'><pre><code><span class='xk'>static</span> <span class='xk'>func</span> <span class='xv'>claimVerificationFailure</span>(<span class='xi'></span><span class='xv'>failedClaim</span>: (<span class='xk'>any</span> <span class='xt'>JWTClaim</span>)?, <span class='xi'></span><span class='xv'>reason</span>: <span class='xt'>String</span><wbr>) -&gt; <span class='xt'>JWTError</span></code></pre></a><a href='/hist/vapor.jwt-kit:5.1.1/jwtkit/jwtclaim.value'><pre><code><span class='xk'>var</span> <span class='xv'>value</span>: <span class='xt'>Value</span> { <span class='xk'>get</span> <span class='xk'>set</span> }</code></pre><p>The claim’s value.</p></a></div>
                    
                </section>
    
                <footer>
                    <br>
                    <time datetime=""></time>
    
                    
                    <div class="author-list">
                        <a href="https://swiftonserver.com/authors/paul-toffoloni/">
                        <img class="small rounded" src="https://swiftonserver.com/assets/authors/paul-toffoloni/paul-toffoloni.jpeg" alt="Paul Toffoloni">
                        <span class="name">Paul Toffoloni</span>
                        </a>
                    </div>
                    <div class="tag-list">
                        <a href="https://swiftonserver.com/tags/authentication/"><small>Authentication</small></a>
                    </div>
                </footer>
                            
                <section class="group">
                    <h4>Related posts</h4>                
                    <div class="grid grid-221">
                        <div class="card">
                            
                            
                            <div class="author-list">
                                <a href="https://swiftonserver.com/authors/paul-toffoloni/">
                                <img class="small rounded" src="https://swiftonserver.com/assets/authors/paul-toffoloni/paul-toffoloni.jpeg" alt="Paul Toffoloni">
                                </a>
                            </div>
                            <div class="meta">
                                <time datetime="2025-01-09">2025-01-09</time>
                                    &middot; <span class="reading-time">13 min read</span>
                            </div>
                            
                            <h2 class="title"><a href="https://swiftonserver.com/jwt-kit/" target="">Introduction to JWTs in Swift</a></h2>
                            <p>Learn how to use JWTs in Swift to secure your API</p>
                        
                            <div class="spacer"></div>
                        
                            <div class="tag-list">
                                <a href="https://swiftonserver.com/tags/authentication/"><small>Authentication</small></a>
                            </div>
                        </div>
                    </div>
                </section>
    
            </article>
        </div>
        
        <div>
            <div class="support">
                <a href="https://www.serversideswift.info/" target="_blank">
                    <img src="https://swiftonserver.com/images/logos/serversideswift.png" alt="ServerSide.swift logo">
                </a>
                <h4>
                    <a href="https://www.serversideswift.info/" target="_blank">ServerSide.swift</a>
                </h4>
                <p>
                    <b>Server-Side Swift Conference</b>
                    <br>
                    2nd-3rd October 2025. London, UK
                </p>
                <a class="cta" href="https://www.serversideswift.info/tickets/" target="_blank">Get Tickets</a>
            </div>
            
            <aside id="toc">
                <h4>On this page</h4>
                <ul>
                    <li class="first-level">
                        <a href="#What%20is%20a%20JSON%20Web%20Token%20(JWT)?">What is a JSON Web Token (JWT)?</a>
                        <ul>
                        </ul>
                    </li>
        <li class="first-level">
                        <a href="#">Note</a>
                        <ul>
                        </ul>
                    </li>
        <li class="first-level">
                        <a href="#Installing%20JWTKit">Installing JWTKit</a>
                        <ul>
                        </ul>
                    </li>
        <li class="first-level">
                        <a href="#Configuration">Configuration</a>
                        <ul>
                        </ul>
                    </li>
        <li class="first-level">
                        <a href="#">Important</a>
                        <ul>
                        </ul>
                    </li>
        <li class="first-level">
                        <a href="#Creating%20a%20JWT">Creating a JWT</a>
                        <ul>
                        </ul>
                    </li>
        <li class="first-level">
                        <a href="#">Note</a>
                        <ul>
                        </ul>
                    </li>
        <li class="first-level">
                        <a href="#Verifying%20a%20JWT">Verifying a JWT</a>
                        <ul>
                        </ul>
                    </li>
        <li class="first-level">
                        <a href="#Authentication%20and%20Authorisation%20Flow">Authentication and Authorisation Flow</a>
                        <ul>
                        </ul>
                    </li>
        <li class="first-level">
                        <a href="#Conclusion">Conclusion</a>
                        <ul>
                        </ul>
                    </li>
                </ul>
            </aside>
    
        </div>
    </div>
    
    </main>

    <footer id="site-footer">
        <div class="grid grid-421">
    
            <figure>
                <picture>
                    <source
                        srcset="https://swiftonserver.com/images/logos/logo~dark.png"
                        media="(prefers-color-scheme: dark)"
                    >
                    <img
                        id="logo-image"
                        src="https://swiftonserver.com/images/logos/logo.png"
                        alt="Logo of Swift on server"
                        title="Swift on server"
                    >
                </picture>
            </figure>
            
            <div>
                <span style="display: block; height: 32px;">&nbsp;</span>
                <h4>Swift on server</h4>
                <p><small><a href="/" target="_blank">swiftonserver.com</a></small></p>
                <ul>
                    <li><a href="https://github.com/swift-on-server/" target="_blank">GitHub</a></li>
                    <li><a href="https://mastodon.social/@swiftonserver/" target="_blank">Mastodon</a></li>
                    <li><a href="/rss.xml" target="_blank">RSS</a></li>
                    <li><a href="/sitemap.xml" target="_blank">Sitemap</a></li>
                </ul>
            </div>
            
            <div>
                <a href="/authors/joannis-orlandos/">
                <img class="small rounded" src="https://swiftonserver.com/assets/authors/joannis-orlandos/joannis-orlandos.jpeg" alt="Joannis Orlandos">
                </a>
                <h4><a href="/authors/joannis-orlandos/">Joannis Orlandos</a></h4>
                <p><small><a href="https://unbeatable.software/" target="_blank">Unbeatable Software B.V.</a></small></p>
                <ul>
                    <li><a href="mailto:hello@unbeatable.software" target="_blank">Email</a></li>
                    <li><a href="https://github.com/Joannis" target="_blank">GitHub</a></li>
                    <li><a href="https://x.com/JoannisOrlandos" target="_blank">X (Twitter)</a></li>
                    <li><a href="https://mastodon.social/@joannis@fosstodon.org" target="_blank">Mastodon</a></li>
                </ul>
            </div>
            
            <div>
                <a href="/authors/tibor-bodecs/">
                <img class="small rounded" src="https://swiftonserver.com/assets/authors/tibor-bodecs/tibor-bodecs.jpeg" alt="Tibor Bödecs">
                </a>
                <h4><a href="/authors/tibor-bodecs/">Tibor Bödecs</a></h4>
                <p><small><a href="https://binarybirds.com/" target="_blank">Binary Birds Kft.</a></small></p>
                <ul>
                    <li><a href="mailto:mail.tib@gmail.com" target="_blank">Email</a></li>
                    <li><a href="https://github.com/tib/" target="_blank">GitHub</a></li>
                    <li><a href="https://x.com/tiborbodecs" target="_blank">X (Twitter)</a></li>
                    <li><a href="https://mastodon.social/@tiborbodecs" target="_blank">Mastodon</a></li>
                </ul>
            </div>
            
        </div>
        
        <section class="grid grid-221">
            <small>Swift on server &copy; 2022 - 2025</small>
            <small>This site was generated using <a href="https://swift.org/" target="_blank">Swift</a> & <a href="https://github.com/binarybirds/toucan" target="_blank">Toucan</a>.</small>
        </section>
    </footer>

    </div>

    

    <script type="text/javascript" src="/js/tooltips.js" async=""></script>
</body>
</html>
